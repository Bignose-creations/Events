<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body { background:#f4f6f9; }
.card { border:none; border-radius:12px; }
.sidebar {
background:#111827;
min-height:100vh;
color:white;
padding:20px;
}
.sidebar h4 { font-weight:600; }
.sidebar a {
color:#cbd5e1;
display:block;
margin:12px 0;
text-decoration:none;
}
.sidebar a:hover { color:white; }
</style>
</head>

<body>

<div class="container-fluid">
<div class="row">

<div class="col-md-3 sidebar">
<h4>Admin Panel</h4>
<a href="#">Manage Events</a>
<a href="dashboard.html">User Dashboard</a>
<a href="index.html">Logout</a>
</div>

<div class="col-md-9 p-4">
<h2>Manage Events</h2>

<div class="card p-4 shadow-sm mb-4">
<form id="eventForm">
<input type="hidden" id="editIndex">
<input type="text" id="title" class="form-control mb-3" placeholder="Event Title" required>
<input type="date" id="date" class="form-control mb-3" required>
<input type="number" id="price" class="form-control mb-3" placeholder="Price" required>
<button class="btn btn-dark w-100">Save Event</button>
</form>
</div>

<table class="table table-bordered bg-white">
<thead class="table-dark">
<tr>
<th>Title</th>
<th>Date</th>
<th>Price</th>
<th>Actions</th>
</tr>
</thead>
<tbody id="eventTable"></tbody>
</table>

</div>
</div>
</div>

<script>
let events = JSON.parse(localStorage.getItem("events")) || [];

function renderEvents(){
let table="";
events.forEach((e,i)=>{
table+=`
<tr>
<td>${e.title}</td>
<td>${e.date}</td>
<td>$${e.price}</td>
<td>
<button class="btn btn-warning btn-sm" onclick="editEvent(${i})">Edit</button>
<button class="btn btn-danger btn-sm" onclick="deleteEvent(${i})">Delete</button>
</td>
</tr>`;
});
document.getElementById("eventTable").innerHTML=table;
localStorage.setItem("events",JSON.stringify(events));
}
renderEvents();

document.getElementById("eventForm").onsubmit=function(e){
e.preventDefault();
let index=document.getElementById("editIndex").value;
let newEvent={
title:title.value,
date:date.value,
price:price.value
};
if(index===""){
events.push(newEvent);
}else{
events[index]=newEvent;
}
this.reset();
editIndex.value="";
renderEvents();
};

function editEvent(i){
title.value=events[i].title;
date.value=events[i].date;
price.value=events[i].price;
editIndex.value=i;
}

function deleteEvent(i){
events.splice(i,1);
renderEvents();
}
</script>

</body>
</html>